{% extends "baaswebapp/layout.html" %}
{% load widget_tweaks %}

{% block topbaasheader %}
{% include "trialapp/trials_filter.html" with trialfilter=trialfilter %}
{% endblock %}

{% block content %}
<div class="row mt-3">
    <div class="col-md-9">
        <div class="card card-body-baas">
        <table class="table">
            <thead>
                <tr><th>PRODUCT</th><th>PRODUCT TYPE</th><th>Active Substance</th><th>Efficacy Range</th>
                    <th>Trials Date</th><th></th></tr>
            </thead>
            <tbody>
            {% for item in object_list %}
            <tr id="item-{{item.id}}">
                <td><a class="btn btn-light rounded-pill" href="{% url 'product_api' item.id%}">{{ item.name }}</a></td>
                <td><span class='badge {{item.color_category}} rounded-pill fs-6'>{{item.category}}</span></td>
                <td>{{item.active_substance}}</td> 
                <td>{{item.efficacies}}</td>
                <td>{{item.time_range}}</td>
                <td><a class="btn  btn-outline-baas" href="{% url 'fieldtrial-list'%}?product={{item.id}}{{extra_params}}">{{item.trials}} trials &#10132;</a></td>
            </tr>
            </tbody>
            {% empty %}
                <p>No Products yet.</p>
            {% endfor %}
        </table>
        </div>
    </div>
    <div class="col-md-3">
        {% include "baaswebapp/two_boxes.html" with left_text='products' right_text='trials' left_number=num_products right_rumber=num_trials %}
        <div class="card card-body-baas mt-3 ms-3 me-3">
            {{graphCategories|safe}}
        </div>
    </div>
</div>
{% endblock %}
